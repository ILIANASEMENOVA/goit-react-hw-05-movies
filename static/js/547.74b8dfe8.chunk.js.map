{"version":3,"file":"static/js/547.74b8dfe8.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.js","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  list-style-type: none;\n`;\n\nexport const Item = styled.li`\n  font-weight: 600;\n  font-size: 18px;\n  margin-bottom: 10px;\n`;\n\nexport const MovieLink = styled(Link)`\n  text-decoration: none;\n  color: #191d1e;\n\n  &:hover {\n    color: #ff69b4;\n  }\n`;\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { List, Item, MovieLink } from './MoviesList.styled';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n\n  return (\n    <List>\n      {items.map(({ id, title, name }) => (\n        <Item key={id}>\n          <MovieLink to={`/movies/${id}`} state={{ from: location }}>\n            {title || name}\n          </MovieLink>\n        </Item>\n      ))}\n    </List>\n  );\n};\n\nexport default MoviesList;\n","import styled from '@emotion/styled';\n\nexport const SearchFormStyled = styled.form`\n  max-width: 320px;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  margin-bottom: 20px;\n`;\n\nexport const Input = styled.input`\n  width: 300px;\n  height: 50px;\n  padding-left: 10px;\n  padding-right: 50px;\n  background-color: transparent;\n  outline: none;\n  color: black;\n  border-top-style: none;\n  border-left-style: none;\n  border-right-style: none;\n  border-bottom: 1px solid FFC0CB;\n`;\n\nexport const BtnSearch = styled.button`\n  margin-top: 20px;\n  padding: 12px 12px;\n  font: inherit;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 3px solid #191d1e;\n  color: #191d1e;\n  font-weight: 600;\n  font-size: 20px;\n  border-radius: 4px 8px;\n\n  &:hover {\n    color: #ff69b4;\n    border: 3px solid #ff69b4;\n  }\n`;\nexport const MoviesText = styled.h2`\n  color: pink;\n  margin-bottom: 20px;\n  text-align: center;\n`;\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'services/moviesApi';\nimport {\n  BtnSearch,\n  Input,\n  SearchFormStyled,\n  MoviesText,\n} from './Movies.styled';\nimport Loader from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n\n    async function getMovies() {\n      try {\n        setIsLoading(true);\n        setError(false);\n        const initialMovies = await fetchMoviesByQuery(query);\n        setMovies(initialMovies);\n      } catch (error) {\n        setError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getMovies();\n  }, [query]);\n\n  // const updateQueryString = e => {\n  //   // if (e.target.value === '') {\n  //   //   return setSearchParams({});\n  //   // }\n  //   // setSearchParams({ query: e.target.value });\n  // };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = e.target.elements.query.value;\n    if (query === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query });\n\n    // getMovies(query);\n  };\n\n  return (\n    <div>\n      <SearchFormStyled onSubmit={handleSubmit}>\n        <Input type=\"text\" name=\"query\" defaultValue={query} />\n        <BtnSearch type=\"submit\">Search</BtnSearch>\n      </SearchFormStyled>\n      {isLoading && <Loader />}\n      {error && <p>error {error.message}</p>}\n      <div>\n        <MoviesList items={movies} />\n\n        {movies.length === 0 && query && <MoviesText>sorry</MoviesText>}\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["List","styled","_templateObject","_taggedTemplateLiteral","Item","_templateObject2","MovieLink","Link","_templateObject3","_ref","items","location","useLocation","_jsx","children","map","_ref2","id","title","name","to","concat","state","from","SearchFormStyled","Input","BtnSearch","MoviesText","_templateObject4","_searchParams$get","_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","useEffect","_getMovies","_asyncToGenerator","_regeneratorRuntime","_callee","initialMovies","_context","prev","next","fetchMoviesByQuery","sent","t0","finish","stop","apply","arguments","getMovies","_jsxs","onSubmit","e","preventDefault","target","elements","value","type","defaultValue","Loader","message","MoviesList","length"],"sourceRoot":""}